(function(){"use strict";var e={6113:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var a=r(9567),i=r(2424),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("form",{staticClass:"form",attrs:{action:"./",method:"post"}},[r("div",{staticClass:"fieldsets-wrapper"},[r("CommonInfoFieldSet",{attrs:{vFieldSet:e.$v.commonInfo}}),r("AddressInfoFieldSet",{attrs:{vFieldSet:e.$v.addressInfo}}),r("PassportInfoFieldSet",{attrs:{vFieldSet:e.$v.passportInfo}})],1),r("div",{staticClass:"flex-column-center"},[r("input",{staticClass:"button",class:{"button--disabled":e.$v.$anyError},attrs:{type:"submit",value:"Создать нового клиента",disabled:e.$v.$anyError},on:{click:e.handleSubmitButtonClick}}),e.$v.$anyError?r("span",{staticClass:"error error--center"},[e._v("Некоторые поля заполнены неправильно")]):e._e()])])])},n=[],l=(r(4916),r(5306),r(8757),r(6409)),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"fieldset"},[r("span",{staticClass:"fieldset__title"},[e._v("Общая информация")]),r("ValidatedInput",{attrs:{label:"Фамилия",vInput:e.vFieldSet.lastName}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.lastName.$model,expression:"vFieldSet.lastName.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.lastName.$error},attrs:{type:"text",placeholder:"Введите фамилию"},domProps:{value:e.vFieldSet.lastName.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.lastName,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Имя",vInput:e.vFieldSet.firstName}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.firstName.$model,expression:"vFieldSet.firstName.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.firstName.$error},attrs:{type:"text",placeholder:"Введите имя"},domProps:{value:e.vFieldSet.firstName.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.firstName,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Отчество",vInput:e.vFieldSet.middleName}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.middleName.$model,expression:"vFieldSet.middleName.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.middleName.$error},attrs:{type:"text",placeholder:"Введите отчество"},domProps:{value:e.vFieldSet.middleName.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.middleName,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Дата рождения",vInput:e.vFieldSet.birthdate}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.birthdate.$model,expression:"vFieldSet.birthdate.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.birthdate.$error},attrs:{type:"date"},domProps:{value:e.vFieldSet.birthdate.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.birthdate,"$model",t.target.value)}}})]),r("ValidatedInput",{attrs:{label:"Номер телефона",vInput:e.vFieldSet.phoneNumber}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.phoneNumber.$model,expression:"vFieldSet.phoneNumber.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.phoneNumber.$error},attrs:{type:"tel",placeholder:"7 XXX XXX XX XX"},domProps:{value:e.vFieldSet.phoneNumber.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.phoneNumber,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Пол",vInput:e.vFieldSet.gender}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.gender.$model,expression:"vFieldSet.gender.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.gender.$error},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.vFieldSet.gender,"$model",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"default"}},[e._v("Выберите пол")]),r("option",{attrs:{value:"male"}},[e._v("Мужской")]),r("option",{attrs:{value:"female"}},[e._v("Женский")])])]),r("ValidatedInput",{attrs:{label:"Группа клиентов",vInput:e.vFieldSet.customerGroup}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.customerGroup.$model,expression:"vFieldSet.customerGroup.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.customerGroup.$error},attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.vFieldSet.customerGroup,"$model",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"vip"}},[e._v("VIP")]),r("option",{attrs:{value:"problematic"}},[e._v("Проблемные")]),r("option",{attrs:{value:"oms"}},[e._v("ОМС")])])]),r("ValidatedInput",{attrs:{label:"Лечащий врач",vInput:e.vFieldSet.treatingDoctor}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.treatingDoctor.$model,expression:"vFieldSet.treatingDoctor.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.treatingDoctor.$error},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.vFieldSet.treatingDoctor,"$model",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"default"}},[e._v("Выберите лечащего врача")]),r("option",{attrs:{value:"ivanov"}},[e._v("Иванов")]),r("option",{attrs:{value:"zaharov"}},[e._v("Захаров")]),r("option",{attrs:{value:"chernisheva"}},[e._v("Чернышева")])])]),r("ValidatedInput",{attrs:{label:"Не отправлять SMS",labelRow:"",vInput:e.vFieldSet.dontSendSMS}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.dontSendSMS.$model,expression:"vFieldSet.dontSendSMS.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.dontSendSMS.$error},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.vFieldSet.dontSendSMS.$model)?e._i(e.vFieldSet.dontSendSMS.$model,null)>-1:e.vFieldSet.dontSendSMS.$model},on:{change:function(t){var r=e.vFieldSet.dontSendSMS.$model,a=t.target,i=!!a.checked;if(Array.isArray(r)){var o=null,n=e._i(r,o);a.checked?n<0&&e.$set(e.vFieldSet.dontSendSMS,"$model",r.concat([o])):n>-1&&e.$set(e.vFieldSet.dontSendSMS,"$model",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.vFieldSet.dontSendSMS,"$model",i)}}})])],1)},d=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{class:{"label-row":e.labelRow}},[e._v(" "+e._s(e.label)+e._s(e.vInput.$params.required||e.vInput.$params.notDefault?"*":"")+" "),e._t("default")],2),e._l(e.getParamsWithError(),(function(t){return r("span",{key:t.type,staticClass:"error"},[e._v(" "+e._s(e.getErrorHint(t))+" ")])}))],2)},p=[],m=(r(7327),r(1539),r(2479),r(9600),r(3123),{name:"ValidatedInput",props:{vInput:{type:Object,required:!0},label:{type:String,required:!0},labelRow:{type:Boolean,required:!1}},methods:{getParamsWithError:function(){var e=this;return this.vInput.$error?Object.values(this.vInput.$params).filter((function(t){return!e.vInput[t.type]})):[]},getLocalDate:function(e){return e.toLocaleDateString("en-GB").split("/").join("-")},getErrorHint:function(e){switch(e.type){case"required":case"notDefault":return"Поле обязательно для заполнения";case"numeric":return"Значение должно состоять только из цифр";case"alpha":return"Значение должно состоять только из букв";case"length":return"Длина должна быть равна ".concat(e.value," символам");case"minLength":return"Длина не должна быть меньше ".concat(e.min," символов");case"maxLength":return"Длина не должна быть больше ".concat(e.max," символов");case"minDate":return"Значение должно быть не меньше ".concat(this.getLocalDate(e.value));case"maxDate":return"Значение должно быть не больше ".concat(this.getLocalDate(e.value));case"startsWith":return"Значение должно начинаться с ".concat(e.value);default:return"Ошибка!"}}}}),c=m,v=r(1001),S=(0,v.Z)(c,u,p,!1,null,"9af48a5c",null),f=S.exports,$={name:"CommonInfoFieldSet",components:{ValidatedInput:f},props:{vFieldSet:{type:Object,required:!0}}},F=$,g=(0,v.Z)(F,s,d,!1,null,null,null),h=g.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"fieldset"},[r("span",{staticClass:"fieldset__title"},[e._v("Адрес")]),r("ValidatedInput",{attrs:{label:"Индекс",vInput:e.vFieldSet.index}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.index.$model,expression:"vFieldSet.index.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.index.$error},attrs:{type:"text",inputmode:"numeric",placeholder:"XXXYYY"},domProps:{value:e.vFieldSet.index.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.index,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Страна",vInput:e.vFieldSet.country}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.country.$model,expression:"vFieldSet.country.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.country.$error},attrs:{type:"text",placeholder:"Введите страну"},domProps:{value:e.vFieldSet.country.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.country,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Область",vInput:e.vFieldSet.region}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.region.$model,expression:"vFieldSet.region.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.region.$error},attrs:{type:"text",placeholder:"Введите область"},domProps:{value:e.vFieldSet.region.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.region,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Город",vInput:e.vFieldSet.city}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.city.$model,expression:"vFieldSet.city.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.city.$error},attrs:{type:"text",placeholder:"Введите город"},domProps:{value:e.vFieldSet.city.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.city,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Улица",vInput:e.vFieldSet.street}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.street.$model,expression:"vFieldSet.street.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.street.$error},attrs:{type:"text",placeholder:"Введите улицу"},domProps:{value:e.vFieldSet.street.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.street,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Дом",vInput:e.vFieldSet.house}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.house.$model,expression:"vFieldSet.house.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.house.$error},attrs:{type:"text",placeholder:"Введите дом"},domProps:{value:e.vFieldSet.house.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.house,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])],1)},y=[],I={name:"AddressInfoFieldSet",components:{ValidatedInput:f},props:{vFieldSet:{type:Object,required:!0}}},x=I,N=(0,v.Z)(x,b,y,!1,null,null,null),_=N.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"fieldset"},[r("span",{staticClass:"fieldset__title"},[e._v("Паспорт")]),r("ValidatedInput",{attrs:{label:"Тип документа",vInput:e.vFieldSet.documentType}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.documentType.$model,expression:"vFieldSet.documentType.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.documentType.$error},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.vFieldSet.documentType,"$model",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"default"}},[e._v("Выберите тип документа")]),r("option",{attrs:{value:"passport"}},[e._v("Паспорт")]),r("option",{attrs:{value:"birth-certificate"}},[e._v("Свидетельство о рождении")]),r("option",{attrs:{value:"drivers-license"}},[e._v("Вод. удостоверение")])])]),r("ValidatedInput",{attrs:{label:"Серия",vInput:e.vFieldSet.passportSeries}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.passportSeries.$model,expression:"vFieldSet.passportSeries.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.passportSeries.$error},attrs:{type:"text",inputmode:"numeric",placeholder:"XXXX"},domProps:{value:e.vFieldSet.passportSeries.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.passportSeries,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Номер",vInput:e.vFieldSet.passportNumber}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.passportNumber.$model,expression:"vFieldSet.passportNumber.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.passportNumber.$error},attrs:{type:"text",inputmode:"numeric",placeholder:"YYYYYY"},domProps:{value:e.vFieldSet.passportNumber.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.passportNumber,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Кем выдан",vInput:e.vFieldSet.passportSource}},[r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.vFieldSet.passportSource.$model,expression:"vFieldSet.passportSource.$model",modifiers:{trim:!0}}],staticClass:"input",class:{"input--error":e.vFieldSet.passportSource.$error},attrs:{placeholder:"Введите кем выдан паспорт"},domProps:{value:e.vFieldSet.passportSource.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.passportSource,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("ValidatedInput",{attrs:{label:"Дата выдачи",vInput:e.vFieldSet.passportDate}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.vFieldSet.passportDate.$model,expression:"vFieldSet.passportDate.$model"}],staticClass:"input",class:{"input--error":e.vFieldSet.passportDate.$error},attrs:{type:"date"},domProps:{value:e.vFieldSet.passportDate.$model},on:{input:function(t){t.target.composing||e.$set(e.vFieldSet.passportDate,"$model",t.target.value)}}})])],1)},C=[],D={name:"PassportInfoFieldSet",components:{ValidatedInput:f},props:{vFieldSet:{type:Object,required:!0}}},P=D,V=(0,v.Z)(P,w,C,!1,null,null,null),M=V.exports,B=function(e){return l.BM.withParams({type:"minDate",value:e},(function(t){return!t||new Date(t).setHours(0,0,0,0)>=e.setHours(0,0,0,0)}))},X=function(e){return l.BM.withParams({type:"maxDate",value:e},(function(t){return!t||new Date(t).setHours(0,0,0,0)<=e.setHours(0,0,0,0)}))},O=function(e){return l.BM.withParams({type:"length",value:e},(function(t){return!t||t.length===e}))},k=function(e){return l.BM.withParams({type:"length",value:e},(function(t){return!t||t.replaceAll(" ","").length===e}))},q=function(e){return l.BM.withParams({type:"startsWith",value:e},(function(t){return!t||t[0]===e}))},L=l.BM.withParams({type:"notDefault",value:"default"},(function(e){return!e||"default"!==e})),A=l.BM.regex("numeric",/^[0-9\s]*$/),E={name:"App",components:{CommonInfoFieldSet:h,AddressInfoFieldSet:_,PassportInfoFieldSet:M},data:function(){return{commonInfo:{lastName:"",firstName:"",middleName:"",birthdate:"",phoneNumber:"",gender:"default",customerGroup:[],treatingDoctor:"default",dontSendSMS:!1},addressInfo:{index:"",country:"",region:"",city:"",street:"",house:""},passportInfo:{documentType:"default",passportSeries:"",passportNumber:"",passportSource:"",passportDate:""}}},validations:{commonInfo:{lastName:{required:l.C1,maxLength:(0,l.BS)(50)},firstName:{required:l.C1,maxLength:(0,l.BS)(50)},middleName:{maxLength:(0,l.BS)(50)},birthdate:{required:l.C1,minDate:B(new Date("1900-01-01")),maxDate:X(new Date)},phoneNumber:{required:l.C1,numeric:A,length:k(11),startsWith:q("7")},gender:{},customerGroup:{required:l.C1},treatingDoctor:{},dontSendSMS:{}},addressInfo:{index:{numeric:A,length:k(6)},country:{maxLength:(0,l.BS)(50)},region:{maxLength:(0,l.BS)(50)},city:{required:l.C1,maxLength:(0,l.BS)(50)},street:{maxLength:(0,l.BS)(50)},house:{maxLength:(0,l.BS)(50)}},passportInfo:{documentType:{notDefault:L},passportSeries:{numeric:l.uR,length:O(4)},passportNumber:{numeric:l.uR,length:O(6)},passportSource:{maxLength:(0,l.BS)(150)},passportDate:{required:l.C1,minDate:B(new Date("1900-01-01")),maxDate:X(new Date)}}},methods:{handleSubmitButtonClick:function(e){e.preventDefault(),this.$v.$touch(),this.$v.$invalid||alert("Новый клиент успешно создан")}}},U=E,j=(0,v.Z)(U,o,n,!1,null,"5271d05c",null),T=j.exports;a.Z.use(i.ZP),new a.Z({render:function(e){return e(T)}}).$mount("#app"),a.Z.config.devtools=!0}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,i,o){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],o=e[u][2];for(var l=!0,s=0;s<a.length;s++)(!1&o||n>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[s])}))?a.splice(s--,1):(l=!1,o<n&&(n=o));if(l){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,i,o]}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,o,n=a[0],l=a[1],s=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(s)var u=s(r)}for(t&&t(a);d<n.length;d++)o=n[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},a=self["webpackChunkm_test_task_form"]=self["webpackChunkm_test_task_form"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(6113)}));a=r.O(a)})();
//# sourceMappingURL=app-legacy.40ed992e.js.map